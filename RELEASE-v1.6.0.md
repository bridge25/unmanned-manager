# v1.6.0 - JARVIS SDK (IPC v2.1)

> ğŸ”Œ **Major Release**: Workerê°€ PMì—ê²Œ ì‘ì—… ìƒíƒœë¥¼ ì‹¤ì‹œê°„ ì „ë‹¬í•˜ëŠ” Python SDK!

---

## ğŸ”Œ JARVIS SDKë€?

**Claude Code Workerì—ì„œ ì‘ì—… ì§„í–‰ ìƒí™©ì„ PM(Project Manager)ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë ¤ì£¼ëŠ” í†µì‹  SDKì…ë‹ˆë‹¤.**

```
ì‘ì—… ì‹œì‘ â†’ SDKê°€ PMì—ê²Œ ì•Œë¦¼ â†’ ì‘ì—… ì™„ë£Œ â†’ SDKê°€ PMì—ê²Œ ì•Œë¦¼
                                 â†“
                         ì—ëŸ¬ ë°œìƒ â†’ SDKê°€ ìë™ìœ¼ë¡œ ë¸”ë¡œì»¤ ì•Œë¦¼
```

### ì™œ í•„ìš”í•œê°€?

ê¸°ì¡´ ë¬¸ì œ:
- Workerê°€ ì‘ì—… ì™„ë£Œí•´ë„ PMì´ ëª¨ë¦„
- ì—ëŸ¬ ë°œìƒí•´ë„ PMì´ í•œì°¸ í›„ì—ì•¼ ë°œê²¬
- ìˆ˜ë™ìœ¼ë¡œ ê²°ê³¼ íŒŒì¼ í™•ì¸ í•„ìš”

SDK ì‚¬ìš© í›„:
- âœ… ì‘ì—… ì‹œì‘/ì™„ë£Œ **ì‹¤ì‹œê°„ ì•Œë¦¼**
- âœ… ì—ëŸ¬ ë°œìƒ ì‹œ **ìë™ ë¸”ë¡œì»¤ ì•Œë¦¼**
- âœ… PMì´ íŒ€ ì „ì²´ ì§„í–‰ ìƒí™© **í•œëˆˆì— íŒŒì•…**

---

## ğŸ“ ìœ„ì¹˜

[`packages/jarvis-sdk/`](./packages/jarvis-sdk/)

---

## ğŸ“š ë¬¸ì„œ

- **ìƒì„¸ ê°€ì´ë“œ**: [`packages/jarvis-sdk/README.md`](./packages/jarvis-sdk/README.md)
- **API ë ˆí¼ëŸ°ìŠ¤**: ì•„ë˜ ì‚¬ìš©ë²• ì„¹ì…˜ ì°¸ì¡°

---

## ğŸ¯ ëŒ€ìƒ ì‚¬ìš©ì

- **ìˆ˜ê°•** - ê¸°íš/ë¦¬ì„œì¹˜ ì‘ì—… ì‹œ ì§„í–‰ ìƒí™© ê³µìœ 
- **ëŒ€ì›…** - ê°œë°œ ì‘ì—… ì‹œ ì™„ë£Œ/ë¸”ë¡œì»¤ ì•Œë¦¼
- **ëª¨ë“  Worker Claude ì‚¬ìš©ì**

---

## ğŸ†• ìƒˆë¡œìš´ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `packages/jarvis-sdk/` | SDK ë©”ì¸ í´ë” |
| `__init__.py` | íŒ¨í‚¤ì§€ ì§„ì…ì  |
| `task.py` | `JarvisTask` ë©”ì¸ í´ë˜ìŠ¤ |
| `client.py` | API í´ë¼ì´ì–¸íŠ¸ (ì¬ì‹œë„, outbox) |
| `config.py` | ì„¤ì • ê´€ë¦¬ |
| `pyproject.toml` | íŒ¨í‚¤ì§€ ì„¤ì • |
| `test_sdk.py` | í…ŒìŠ¤íŠ¸ ì½”ë“œ |

---

## ğŸªŸ Windows ì„¤ì¹˜ ê°€ì´ë“œ

### 1ë‹¨ê³„: SDK ë‹¤ìš´ë¡œë“œ

```powershell
# ì €ì¥ì†Œ í´ë¡  (ì²˜ìŒ í•œ ë²ˆë§Œ)
cd $HOME\Desktop
git clone https://github.com/bridge25/unmanned-manager.git

# ë˜ëŠ” ê¸°ì¡´ ì €ì¥ì†Œ ì—…ë°ì´íŠ¸
cd $HOME\Desktop\unmanned-manager
git pull origin main
```

### 2ë‹¨ê³„: SDK ë³µì‚¬

```powershell
# ìì‹ ì˜ í”„ë¡œì íŠ¸ë¡œ SDK ë³µì‚¬
Copy-Item -Path "packages\jarvis-sdk" -Destination "C:\Users\YourName\Desktop\your-project\jarvis_sdk" -Recurse

# í´ë” êµ¬ì¡° í™•ì¸
dir your-project\jarvis_sdk
# __init__.py, task.py, client.py, config.py ë“±ì´ ë³´ì—¬ì•¼ í•¨
```

### 3ë‹¨ê³„: í™˜ê²½ë³€ìˆ˜ ì„¤ì •

**PowerShell (ì„ì‹œ ì„¤ì •)**
```powershell
$env:JARVIS_API_KEY = "<íŒ€ë‚´_ê³µìœ _í‚¤_ì‚¬ìš©>"
$env:JARVIS_API_URL = "https://mindcollab-web-production.up.railway.app/api"
$env:JARVIS_WORKER_ID = "sookang"  # ë³¸ì¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½!
```

**ì˜êµ¬ ì„¤ì • (ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜)**
1. Windows ê²€ìƒ‰ â†’ "í™˜ê²½ ë³€ìˆ˜" â†’ "ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ í¸ì§‘"
2. "í™˜ê²½ ë³€ìˆ˜" ë²„íŠ¼ í´ë¦­
3. "ì‚¬ìš©ì ë³€ìˆ˜"ì—ì„œ "ìƒˆë¡œ ë§Œë“¤ê¸°":
   - ë³€ìˆ˜ ì´ë¦„: `JARVIS_API_KEY`
   - ë³€ìˆ˜ ê°’: `<íŒ€ë‚´_ê³µìœ _í‚¤_ì‚¬ìš©>`
4. ê°™ì€ ë°©ì‹ìœ¼ë¡œ `JARVIS_API_URL`, `JARVIS_WORKER_ID` ì¶”ê°€

### 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸

```powershell
cd your-project
python -c "from jarvis_sdk import JarvisTask; print('SDK ë¡œë“œ ì„±ê³µ!')"
```

---

## ğŸ macOS ì„¤ì¹˜ ê°€ì´ë“œ

```bash
# 1. SDK ë³µì‚¬
cp -r unmanned-manager/packages/jarvis-sdk ~/Desktop/your-project/jarvis_sdk

# 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (~/.zshrc ë˜ëŠ” ~/.bashrcì— ì¶”ê°€)
echo 'export JARVIS_API_KEY="<íŒ€ë‚´_ê³µìœ _í‚¤_ì‚¬ìš©>"' >> ~/.zshrc
echo 'export JARVIS_API_URL="https://mindcollab-web-production.up.railway.app/api"' >> ~/.zshrc
echo 'export JARVIS_WORKER_ID="tony"' >> ~/.zshrc
source ~/.zshrc

# 3. í…ŒìŠ¤íŠ¸
python3 -c "from jarvis_sdk import JarvisTask; print('SDK ë¡œë“œ ì„±ê³µ!')"
```

---

## âš¡ ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš© (ê¶Œì¥)

```python
from jarvis_sdk import JarvisTask

# Context Manager ì‚¬ìš© - ì—ëŸ¬ ì‹œ ìë™ ë¸”ë¡œì»¤ ì•Œë¦¼
with JarvisTask(
    task_id="data_processing_001",   # ì‘ì—… ID (ê³ ìœ í•´ì•¼ í•¨)
    node_id="N148",                   # MindCollab ë…¸ë“œ ID (ì„ íƒ)
    worker_id="sookang"               # ê¸°ë³¸ê°’: í™˜ê²½ë³€ìˆ˜ JARVIS_WORKER_ID
) as task:

    # 1. ì‘ì—… ì‹œì‘ ì•Œë¦¼ (PMì—ê²Œ "ìˆ˜ê°•ì´ ì‘ì—… ì‹œì‘í•¨" ì•Œë¦¼)
    task.start("ê³ ê° ë°ì´í„° ë¶„ì„ ì‹œì‘")

    # 2. ì¤‘ê°„ ë¡œê·¸ (ì„ íƒì‚¬í•­)
    task.log("1000ê±´ ì¤‘ 500ê±´ ì²˜ë¦¬ ì™„ë£Œ", level="info")

    # 3. ì‘ì—… ì™„ë£Œ (PMì—ê²Œ "ìˆ˜ê°•ì´ ì‘ì—… ì™„ë£Œí•¨" ì•Œë¦¼)
    task.complete(
        result={"processed": 1000, "errors": 0},
        summary="ê³ ê° ë°ì´í„° 1000ê±´ ë¶„ì„ ì™„ë£Œ"
    )

# âš ï¸ with ë¸”ë¡ ì•ˆì—ì„œ ì—ëŸ¬ ë°œìƒ ì‹œ:
# â†’ SDKê°€ ìë™ìœ¼ë¡œ task.blocked() í˜¸ì¶œ
# â†’ PMì—ê²Œ "ìˆ˜ê°•ì´ ë¸”ë¡œì»¤ ë§Œë‚¨" ì•Œë¦¼
```

### ì´ë²¤íŠ¸ íƒ€ì…

| ë©”ì„œë“œ | ì´ë²¤íŠ¸ | PMì—ê²Œ ë³´ì´ëŠ” ì•Œë¦¼ |
|--------|--------|-------------------|
| `task.start("ì„¤ëª…")` | task_started | "ğŸš€ [sookang] ì‘ì—… ì‹œì‘: ì„¤ëª…" |
| `task.complete(result, summary)` | task_completed | "âœ… [sookang] ì‘ì—… ì™„ë£Œ: summary" |
| `task.blocked(reason)` | task_blocked | "ğŸš« [sookang] ë¸”ë¡œì»¤: reason" |
| `task.log("ë©”ì‹œì§€")` | task_log | (warning/errorë§Œ ì•Œë¦¼) |

### ë¡œê·¸ ë ˆë²¨

```python
task.log("ì¼ë°˜ ì •ë³´", level="info")      # ì•Œë¦¼ ì•ˆ ê° (ë¡œê·¸ë§Œ)
task.log("ì£¼ì˜ í•„ìš”", level="warning")   # PMì—ê²Œ ì•Œë¦¼
task.log("ì—ëŸ¬ ë°œìƒ", level="error")     # PMì—ê²Œ ì•Œë¦¼
```

### ë¸”ë¡œì»¤ íƒ€ì…

```python
task.blocked(
    reason="ì™¸ë¶€ API ì‘ë‹µ ì—†ìŒ",
    blocker_type="external"    # error, dependency, input_needed, external
)
```

| blocker_type | ì˜ë¯¸ |
|--------------|------|
| `error` | ì½”ë“œ ì—ëŸ¬, ì˜ˆì™¸ ë°œìƒ |
| `dependency` | ë‹¤ë¥¸ ì‘ì—… ì™„ë£Œ ëŒ€ê¸° |
| `input_needed` | ì‚¬ìš©ì ì…ë ¥ í•„ìš” |
| `external` | ì™¸ë¶€ ì‹œìŠ¤í…œ ë¬¸ì œ (API, DB ë“±) |

---

## ğŸ”„ Fail-open ë™ì‘

**API í˜¸ì¶œ ì‹¤íŒ¨í•´ë„ ì‘ì—…ì€ ê³„ì†ë©ë‹ˆë‹¤!**

```
API í˜¸ì¶œ â†’ ì‹¤íŒ¨ â†’ .jarvis/outbox/ì— ì €ì¥ â†’ ì‘ì—… ê³„ì† ì§„í–‰
                        â†“
              ë‚˜ì¤‘ì— ì¬ì „ì†¡ ê°€ëŠ¥
```

```python
# ê¸°ë³¸ ë™ì‘: fail-open (API ì‹¤íŒ¨í•´ë„ ì˜ˆì™¸ ì•ˆ ë‚¨)
task = JarvisTask("my_task")

# strict ëª¨ë“œ: API ì‹¤íŒ¨ ì‹œ ì˜ˆì™¸ ë°œìƒ
task = JarvisTask("my_task", strict=True)
```

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Worker Claude                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  with JarvisTask(...) as task:                      â”‚    â”‚
â”‚  â”‚      task.start("ì‘ì—… ì‹œì‘")                         â”‚    â”‚
â”‚  â”‚      task.complete(result)                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    JARVIS SDK         â”‚
              â”‚  (ì´ íŒ¨í‚¤ì§€)           â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP POST
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   MindCollab API      â”‚
              â”‚  /api/jarvis/events   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚      Supabase         â”‚
              â”‚   jarvis_events í…Œì´ë¸” â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Realtime
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Push Daemon        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Tony (ì‚¬ëŒ)   â”‚          â”‚  PM Claude    â”‚
    â”‚ display-messageâ”‚          â”‚  inbox.jsonl  â”‚
    â”‚   (ì¦‰ì‹œ íŒì—…)   â”‚          â”‚  (Pull ë°©ì‹)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â“ FAQ

### Q: í™˜ê²½ë³€ìˆ˜ë¥¼ ë§¤ë²ˆ ì„¤ì •í•´ì•¼ í•˜ë‚˜ìš”?

A: ì•„ë‹ˆìš”! ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ì— í•œ ë²ˆ ì„¤ì •í•˜ë©´ ì˜êµ¬ ì ìš©ë©ë‹ˆë‹¤.
   - Windows: ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ í¸ì§‘
   - macOS: `~/.zshrc`ì— export ì¶”ê°€

### Q: SDKê°€ ì—†ëŠ” í”„ë¡œì íŠ¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•œê°€ìš”?

A: ë„¤! `jarvis_sdk` í´ë”ë¥¼ í”„ë¡œì íŠ¸ì— ë³µì‚¬í•˜ë©´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
   ì™¸ë¶€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ í•„ìš” ì—†ìŒ (Zero Dependencies).

### Q: API ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

A: ê¸°ë³¸ fail-open ëª¨ë“œì—ì„œëŠ” `.jarvis/outbox/`ì— ì´ë²¤íŠ¸ê°€ ì €ì¥ë˜ê³ ,
   ì‘ì—…ì€ ì •ìƒ ì§„í–‰ë©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ì„œë²„ ë³µêµ¬ ì‹œ ì¬ì „ì†¡ ê°€ëŠ¥.

### Q: node_idëŠ” ë­”ê°€ìš”?

A: MindCollabì˜ í”„ë¡œì íŠ¸ ë…¸ë“œ IDì…ë‹ˆë‹¤. ì„ íƒì‚¬í•­ì´ë©°,
   ì§€ì •í•˜ë©´ í•´ë‹¹ ë…¸ë“œì— ì‘ì—…ì´ ì—°ê²°ë©ë‹ˆë‹¤.
   ì˜ˆ: `mc tasks` ëª…ë ¹ìœ¼ë¡œ ë…¸ë“œ ID í™•ì¸ ê°€ëŠ¥.

---

## ğŸ”‘ íŒ€ì› í™˜ê²½ë³€ìˆ˜ ê°’

| íŒ€ì› | JARVIS_WORKER_ID |
|------|------------------|
| Tony | `tony` |
| ìˆ˜ê°• | `sookang` |
| ëŒ€ì›… | `daewoong` |

**ê³µí†µ ê°’:**
```
JARVIS_API_KEY = <íŒ€ë‚´_ê³µìœ _í‚¤_ì‚¬ìš©>
JARVIS_API_URL = https://mindcollab-web-production.up.railway.app/api
```

---

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### "ModuleNotFoundError: No module named 'jarvis_sdk'"

```powershell
# jarvis_sdk í´ë”ê°€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸
dir jarvis_sdk
# __init__.py íŒŒì¼ì´ ìˆì–´ì•¼ í•¨
```

### "JARVIS_API_KEY environment variable is required"

```powershell
# í™˜ê²½ë³€ìˆ˜ í™•ì¸
echo $env:JARVIS_API_KEY
# ë¹„ì–´ìˆìœ¼ë©´ ì„¤ì • í•„ìš”
```

### API ì—°ê²° ì‹¤íŒ¨

1. ì¸í„°ë„· ì—°ê²° í™•ì¸
2. API URL í™•ì¸: `https://mindcollab-web-production.up.railway.app/api`
3. fail-open ëª¨ë“œì—ì„œëŠ” `.jarvis/outbox/`ì— ì €ì¥ë¨ (ë‚˜ì¤‘ì— ì¬ì „ì†¡)

---

## ğŸ“ ì§€ì›

ë¬¸ì œ ë°œìƒ ì‹œ:
1. ì´ ë¬¸ì„œì˜ FAQ í™•ì¸
2. Tonyë‹˜ê»˜ ë¬¸ì˜ (MindCollab ëŒ“ê¸€ ë˜ëŠ” ì§ì ‘ ì—°ë½)

---

**Happy Coding! ğŸ‰**
